import{r as C,q as F,p as G,I as R}from"./CsygOvGx.js";import{d as H,w as V}from"./CGOE-bsu.js";function ee(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ne(e,t){G(e,1,1,()=>{t.delete(e.key)})}function te(e,t,n,r,i,f,c,p,a,T,_,A){let o=e.length,y=f.length,u=o;const d={};for(;u--;)d[e[u].key]=u;const l=[],m=new Map,h=new Map,M=[];for(u=y;u--;){const s=A(i,f,u),g=n(s);let w=c.get(g);w?M.push(()=>w.p(s,t)):(w=T(g,s),w.c()),m.set(g,l[u]=w),g in d&&h.set(g,Math.abs(u-d[g]))}const j=new Set,Q=new Set;function P(s){F(s,1),s.m(p,_),c.set(s.key,s),_=s.first,y--}for(;o&&y;){const s=l[y-1],g=e[o-1],w=s.key,S=g.key;s===g?(_=s.first,o--,y--):m.has(S)?!c.has(w)||j.has(w)?P(s):Q.has(S)?o--:h.get(w)>h.get(S)?(Q.add(w),P(s)):(j.add(S),o--):(a(g,c),o--)}for(;o--;){const s=e[o];m.has(s.key)||a(s,c)}for(;y;)P(l[y-1]);return C(M),l}function re(e,t){const n={},r={},i={$$scope:1};let f=e.length;for(;f--;){const c=e[f],p=t[f];if(p){for(const a in c)a in p||(r[a]=1);for(const a in p)i[a]||(n[a]=p[a],i[a]=1);e[f]=p}else for(const a in c)i[a]=1}for(const c in r)c in n||(n[c]=void 0);return n}function ie(e){return typeof e=="object"&&e!==null?e:{}}var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function se(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ce(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function L(e,t,n,r){var i,f,c=!1,p=n.length>=2,a=(u,d,l)=>{if(i=d,p&&(f=u),!c){let m=t(u,d,l);if(t.length<2)d(m);else return m}c=!1},T=H(e,a,r),_=!Array.isArray(e);function A(u){var d=n(u,f);_?(c=!0,e.set(d)):d.forEach((l,m)=>{c=!0,e[m].set(l)}),c=!1}var o=!1;function y(u){var d,l,m,h;if(o){h=u(R(T)),i(h);return}var M=T.subscribe(j=>{o?d?l=!0:d=!0:m=j});h=u(m),o=!0,i(h),M(),o=!1,l&&(h=R(T)),d&&A(h)}return{subscribe:T.subscribe,set(u){y(()=>u)},update:y}}const U=20,v=V([]),E=V(null),k=new Map,N=e=>{if(k.has(e))return;const t=setTimeout(()=>{k.delete(e),B(e)},1e3);k.set(e,t)},W=e=>{const t=k.get(e);t&&clearTimeout(t)};function $(e){e.id&&W(e.id),v.update(t=>t.map(n=>n.id===e.id?{...n,...e}:n))}function z(e){v.update(t=>[e,...t].slice(0,U))}function J(e){R(v).find(t=>t.id===e.id)?$(e):z(e)}function K(e){v.update(t=>(e?N(e):t.forEach(n=>{N(n.id)}),t.map(n=>n.id===e||e===void 0?{...n,visible:!1}:n)))}function B(e){v.update(t=>e===void 0?[]:t.filter(n=>n.id!==e))}function ae(e){E.set(e)}function oe(e){let t;E.update(n=>(t=e-(n||0),null)),v.update(n=>n.map(r=>({...r,pauseDuration:r.pauseDuration+t})))}const X={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function de(e={}){return{toasts:L(v,n=>n.map(r=>{var i,f;return{...e,...e[r.type],...r,duration:r.duration||((i=e[r.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||X[r.type],style:[e.style,(f=e[r.type])==null?void 0:f.style,r.style].join(";")}}),n=>n),pausedAt:E}}const Y=e=>typeof e=="function",q=(e,t)=>Y(e)?e(t):e,Z=(()=>{let e=0;return()=>(e+=1,e.toString())})(),fe=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),x=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Z()}),D=e=>(t,n)=>{const r=x(t,e,n);return J(r),r.id},b=(e,t)=>D("blank")(e,t);b.error=D("error");b.success=D("success");b.loading=D("loading");b.custom=D("custom");b.dismiss=e=>{K(e)};b.remove=e=>B(e);b.promise=(e,t,n)=>{const r=b.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(b.success(q(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{b.error(q(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};const le=V(null);export{se as a,re as b,ue as c,ie as d,ee as e,de as f,ce as g,$ as h,oe as i,ne as o,fe as p,ae as s,b as t,te as u,le as w};
